# =============================================================================
# CogmAIt Backend 配置文件 - 学生开发环境模板
# 复制此文件为 .env 并根据需要修改配置
# =============================================================================

# =============================================================================
# 基础配置
# =============================================================================
PROJECT_NAME=CogmAIt
API_V1_STR=/api

# 安全密钥 - 请务必修改为随机字符串！
SECRET_KEY=your-secret-key-here-replace-this

# CORS设置 - 前端地址（开发环境通常不需要修改）
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://localhost:8080"]

# =============================================================================
# 服务器启动配置
# =============================================================================
# 服务器监听地址
HOST=0.0.0.0

# 服务器端口
PORT=8092

# 开发模式热重载（生产环境建议设为false）
RELOAD=true 

# =============================================================================
# 数据库配置 
# =============================================================================

# 数据源加密密钥
DATASOURCE_ENCRYPTION_KEY=rnakv7GzC866BqFsnruUWT5mUWyC1QDUEY8m_o_y740=

# 选项2：MySQL（需要先安装MySQL并创建数据库）
DB_HOST=rm-bp1d1wx418791kc2z7o.mysql.rds.aliyuncs.com
DB_PORT=3306
DB_USER=ices_mysql
DB_PASSWORD=ices_mysql_504
DB_NAME=law_kg

# 是否自动创建数据库表（建议保持为true）
CREATE_TABLES=false

# =============================================================================
# AI模型配置 - 可选，不配置也能运行基本功能
# =============================================================================
# OpenAI（ChatGPT）
OPENAI_API_KEY=

# Anthropic Claude
ANTHROPIC_API_KEY=

# Google AI
GOOGLE_API_KEY=

# 百炼API
ALIYUN_API_KEY=sk-742c7c766efd4426bd60a269259aafaf

# Tavily搜索（用于网络搜索功能）
TAVILY_API_KEY=

# =============================================================================
# 图谱配置 - 可选，用于知识图谱功能
# =============================================================================
GRAPH_DB_TYPE=neo4j
# 采用Neo4j
NEO4J_URI=bolt://60.205.171.106:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=hit-wE8sR9wQ3pG1
NEO4J_DATABASE=neo4j

# =============================================================================
# MinIO对象存储配置 - 可选，用于文件存储
# =============================================================================
MINIO_ENDPOINT=60.205.171.106:9000
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=hit-wE8sR9wQ3pG1
MINIO_SECURE=false

# =============================================================================
# MinerU PDF处理API配置 - 用于PDF文档处理
# =============================================================================
MINERU_API_BASE=https://mineru.net
# 私人密钥
MINERU_API_KEY=eyJ0eXBlIjoiSldUIiwiYWxnIjoiSFM1MTIifQ.eyJqdGkiOiI4NjMwMzMyNiIsInJvbCI6IlJPTEVfUkVHSVNURVIiLCJpc3MiOiJPcGVuWExhYiIsImlhdCI6MTc2MjA3NzkwNywiY2xpZW50SWQiOiJsa3pkeDU3bnZ5MjJqa3BxOXgydyIsInBob25lIjoiIiwib3BlbklkIjpudWxsLCJ1dWlkIjoiZDE1YjUwMzEtZjdjYS00M2JiLTk3YzQtYjBhNDFhNDdiNzRjIiwiZW1haWwiOiIiLCJleHAiOjE3NjMyODc1MDd9.uPXA7bkG8ck1dxsQOht13w7HV0WM_GlyOxdNMJAWRApYMJrZmMB-6iXSUIP__8m7i3nlP0GQVaPHyH1mJNuyxg

# =============================================================================
# Milvus向量数据库配置 - 用于向量存储和检索
# =============================================================================
# 基本连接配置
MILVUS_URI=https://in03-dd9fdb997edcd3f.serverless.aws-eu-central-1.cloud.zilliz.com

# 认证配置 - 支持Token或用户名/密码两种方式
# 方式1：使用Token（推荐云服务）
MILVUS_TOKEN=0891b653b721e785d478988f44411475d440fcd71eaa00162ea050f6e3ec7bac3950a32daec71ced65f67867063709896b882dbb

# 方式2：使用用户名密码
# MILVUS_USER=your-username
# MILVUS_PASSWORD=your-password

# 可选配置
# MILVUS_DB_NAME=default
# MILVUS_SECURE=false

# =============================================================================
# 图谱抽取模块配置
# =============================================================================
# 图谱抽取方案
KG_EXTRACT_METHOD=langextract
# 图谱抽取文件存储数据库（待废弃）
# 方案：MinIO
# 配置：见MinIO对象存储配置
# 存储桶
KG_EXTRACT_BUCKET=law-kg

# 线程池最大线程数
THREAD_POOL_MAX_WORKERS=5

# =============================================================================
# Langfuse 配置 - 用于提示词管理
# =============================================================================
LANGFUSE_SECRET_KEY=sk-lf-c0a7335b-b826-4071-bc93-3952bac9c3f0
LANGFUSE_PUBLIC_KEY=pk-lf-3eaa9ef7-2d40-4fa9-85c3-ca0fa1d06657
LANGFUSE_HOST=http://60.205.171.106:3000


# =============================================================================
# 图谱抽取相关配置
# =============================================================================
BATCH_LENGTH=5                              # 大模型抽取时每批处理的文本块数量
MAX_WORKERS=3                               # 大模型抽取时用于并发处理的最大并行工作线程数
MAX_CHAR_BUFFER=5000                        # 大模型推理时的最大字符数
MAX_CHUNK_SIZE=5000                         # 输入文本分块时的块大小
OVERLAP_SIZE=500                            # 输入文本分块时的重叠大小
THREAD_POOL_MAX_WORKERS=5                  # 文本分块处理线程池最大线程数
TIMEOUT=300                                 # 大模型推理超时时间
