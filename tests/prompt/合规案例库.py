
nodes = """
# 实体类型
## 合规案例
### 介绍
表示合规案例库中的一个具体案例，是合规知识图谱的核心实体，用于承载事实、行为、法律适用及结果。
### 属性
- 案例名称：案例的正式标题
- 案例编号：案例在案例库中的序号
- 所属章节：案例所属的合规领域章节，如“反腐败反商业贿赂”
- 案例类型：案例性质，如“真实案例”“模拟案例”
- 发生时间：案件主要行为发生的时间或时间区间
- 发生国家或地区：案件行为发生的国家或地区
- 案例摘要：对案件事实的高度概括性描述
- 合规风险点：案例中暴露出的核心合规风险或违规要点

## 主体
### 介绍
表示参与或涉及合规案例的个人或组织中的自然人主体。
### 属性
- 主体名称：涉案主体的姓名或匿名标识
- 主体类型：个人或组织成员
- 主体身份：主体在案例中的角色，如国企高管、普通员工、外国官员
- 是否国家工作人员：是否依法认定为国家工作人员
- 所属组织：主体隶属或任职的组织

## 组织
### 介绍
表示案例中涉及的企业、机构或其他组织实体。
### 属性
- 组织名称：组织的正式名称
- 组织性质：国有企业、上市公司、外资企业、政府机构等
- 注册地：组织注册或主要经营所在地
- 行业领域：组织所属的行业领域，如能源、化工、建筑

##  违法或不当行为
### 介绍
表示案例中发生的具体违规、违法或存在合规风险的行为。
### 属性
- 行为类型：行为的类别，如行贿、受贿、挪用公款、垄断协议
- 行为描述：对行为经过的事实性描述
- 行为金额：涉及的金钱或财产数额
- 行为方式：行为实施方式，如现金、回扣、宴请、疏通费
- 是否跨境：是否涉及跨境或域外行为

## 罪名或违法性质
### 介绍
表示对违法或不当行为的法律定性结果。
### 属性
- 名称：罪名或违法行为名称
- 法律性质：刑事犯罪、行政违法或合规违规
- 是否单位犯罪：是否属于单位犯罪
- 构成要件摘要：认定该罪名或违法行为的核心法律要件

## 法律法规
### 介绍
表示案例中适用的法律、行政法规、司法解释或域外法律。
### 属性
- 法规名称：法规的正式名称
- 发布单位：发布该法规的行政机关或立法机关
- 公布年份：法规公布的年月日
- 实施年份：法规开始生效执行的年月日
- 时效性：法规当前状态，如“现行有效”“已废止”“已修订”
- 法规层级：法律效力层级，如法律、行政法规、司法解释
- 适用行业：法规主要适用的行业或领域
- 法规方向：法规调整的法律关系方向，如刑事责任、行政处罚
- 法规内容摘要：法规主要内容的简要概括

## 处罚结果
### 介绍
表示案件最终产生的法律后果或处理结果。
### 属性
- 处罚类型：刑事处罚、行政处罚或民事责任
- 处罚内容：具体处罚措施描述
- 刑期或金额：判处的刑期或罚金、罚款金额
- 是否从轻或加重：是否存在从轻、减轻或加重情节
- 裁决机关：作出裁决的法院或监管机关

## 合规启示
### 介绍
表示从案例中总结出的合规风险提示与管理启示。
### 属性
- 风险提示：对企业或员工的主要合规警示
- 管理缺陷：案例反映出的制度或管理漏洞
- 防控建议：针对该类风险的合规管理建议

"""
edges = """
# 关系类型
## 涉及
### 介绍
表示合规案例与相关主体之间的参与关系。
### 关系三元组
- 合规案例-涉及-主体

## 隶属于
### 介绍
表示主体与其所属组织之间的隶属关系。
### 关系三元组
- 主体-隶属于-组织

## 实施
### 介绍
表示主体实施了某一违法或不当行为。
### 关系三元组
- 主体-实施-违法或不当行为

## 构成
### 介绍
表示某一行为在法律上构成特定罪名或违法性质。
### 关系三元组
- 违法或不当行为-构成-罪名或违法性质

## 适用
### 介绍
表示案件或罪名适用某一具体法律法规。
### 关系三元组
- 合规案例-适用-法律法规
- 罪名或违法性质-适用-法律法规

## 导致
### 介绍
表示合规案例最终导致的处罚或处理结果。
### 关系三元组
- 合规案例-导致-处罚结果

## 形成
### 介绍
表示从合规案例中总结和提炼出的合规启示。
### 关系三元组
- 合规案例-形成-合规启示
"""


prompt = "# 角色您是一个合规案例文本分析专家，能够从案例分析记录等文本中准确提取实体、属性和关系信息，用于合规案例知识图谱。# 任务说明请从给定的案例分析记录文本中提取知识图谱所需的节点和关系，构建合规案例知识图谱。请严格按照下面的节点类型、属性和关系类型进行识别和提取， 并以JSON格式输出。"
schema = {
    "nodes": nodes,
    "edges": edges
}
examples = [
    {
        "text": "某公司员工张某因收受供应商贿赂被查处，构成受贿罪，受到刑事处罚。",
        "extractions": [
            {
                "name": "张某受贿案",
                "type": "合规案例",
                "attributes": {
                    "案例名称": "张某受贿案",
                    "案例类型": "真实案例",
                    "案例摘要": "公司员工收受供应商贿赂被查处"
                }
            },
            {
                "name": "张某",
                "type": "主体",
                "attributes": {
                    "主体名称": "张某",
                    "主体身份": "公司员工"
                }
            },
            {
                "name": "受贿罪",
                "type": "罪名或违法性质",
                "attributes": {
                    "名称": "受贿罪",
                    "法律性质": "刑事犯罪"
                }
            },
            {
                "name": "",
                "type": "关系",
                "attributes": {
                    "主体": "张某受贿案",
                    "谓词": "涉及",
                    "客体": "张某"
                }
            },
            {
                "name": "",
                "type": "关系",
                "attributes": {
                    "主体": "张某",
                    "谓词": "构成",
                    "客体": "受贿罪"
                }
            }
        ]
    }
]
