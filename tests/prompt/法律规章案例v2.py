nodes = """
## 诉讼
### 介绍
表示判决文书记录的一场法律纠纷的全过程，是法律程序实例
### 属性
- 诉讼名称：诉讼案件名称
- 审级：案件的审理级别，如"一审", "二审", "再审"
- 案号：案件编号，如"(2021)粤03民初6066号"
- 案由：法律术语，描述案件的性质或争议类型
- 案件类型：诉讼案件的类别，如"民事", "行政", "刑事"
- 上诉日期：指上级法院收到上诉状并予以立案的日期，仅适用于二审及以上程序。
- 审理方式：描述法院采用的主要审理形式。如 开庭审理 / 书面审理 / 询问 / 听证 / 调解
- 审理法院：对该诉讼案件进行审理的法院
- 诉讼阶段：描述本案在整个司法流程中所处的状态。包括 审理中 / 已结案 / 上诉中 / 执行中 / 已归档
- 立案日期：指法院正式受理该案并登记立案的具体日期。
- 结案日期：指法院作出最终裁判文书并宣告本案审理终结的日期。
- 是否公开审理：表示本案是否依法向社会公众开放庭审过程。
- 诉讼参与人员：参与诉讼中的自然人或组织，包括上诉人、被上诉人、委托诉讼代理人、法定代表人、一审第三人、审判长、审判员、法官助理、书记员等

## 诉讼参与者
### 介绍
表示在诉讼中承担某法律职能或身份的自然人或组织，与诉讼建立直接参与关系，要严格区别于案例主体
### 属性
- 名称：该人员或组织的真实姓名，通常为实名登记信息。
- 性别：根据上下文推断或直接记载的性别信息。
- 民族：自然人的民族属性
- 职业：自然人的职业，如律师
- 出生日期：自然人的出生日期
- 出庭情况：是否实际到庭参加庭审或询问，影响程序合法性判断。
- 参与阶段：该人员在哪一审判阶段参与了诉讼。
- 诉讼角色：自然人或组织在诉讼案件中的参与身份，包括上诉人、被上诉人、委托诉讼代理人、法定代表人、一审第三人、审判长、审判员、法官助理、书记员等
- 所住地/注册地：自然人的实际所住地或组织注册地址

## 诉讼事由
### 介绍
指引发本次诉讼的具体事实原因或争议起点，即“因何事成讼”。
### 属性
- 事由内容：对引发诉讼的事实事件的描述
- 事由摘要：对引发诉讼的事实原因的概括性描述，如“未按规定完成环保验收即投入运行”
- 事由类型：分类标签，如“行政处罚争议”“合同履行纠纷”“数据抓取侵权”等
- 核心行为：关键动作描述，如“擅自运营”“绕过接口限制抓取数据”
- 事由时间：诉讼的具体事由的发生时间
- 发生国家或地区：案件行为发生的国家或地区

## 事实事件
### 介绍
指在案件审理中被法院查明或当事人主张的客观发生的时间节点性事件，构成案件事实链条的基础单元
⚠️ 注意：每个事实事件都必须建立起与诉讼事由或诉讼之间的关系
### 属性
- 事件内容：案例中客观发生的时间节点性事件的具体内容或描述
- 争议焦点：指在诉讼中，双方当事人就案件事实事件、法律适用或技术问题存在实质性分歧的核心问题，是法院审理和裁判的关键切入点。
- 事件类型：如“现场检查”“监测采样”“提交申请”“签订协议”“立案调查”等
- 发生地点：事件发生的地理位置，如“某某污水处理厂”“文昌市清澜地区”
- 发生时间：事件实际发生的日期，精确到日
- 是否被采信：法院是否认定该事件为真实存在的事实

## 案例主体
### 介绍
表示案件中的各方参与当事人或组织，包括自然人、公司、非法人组织，要严格区别于诉讼参与者
### 属性
- 主体名称：当事人或组织的正式名称，如"秦某华"或"国家知识产权局"
- 主体类型：当事人或组织的类型分类，包括自然人、公司、组织等
- 主体身份：主体在案例中的角色，如国企高管、普通员工
- 住所地/注册地：当事人的居住地址或注册地址，如"浙江省杭州市余杭区"

## 国家机构
### 介绍
表示诉讼中涉及的行政机构、立法机构等国家单位
### 属性
- 机构名称：国家机构的正式名称，如"国家知识产权局"
- 机构性质：机构的性质分类，包括行政机关、司法机关等
- 行业领域：机构所处的行业领域，如"知识产权行政管理"
- 注册地/所在地：组织的注册地址或实际所在地，如"北京市海淀区"

## 证据
### 介绍
指在诉讼中用于证明或反驳某一事实的材料，包括书证、物证、鉴定意见等。
### 属性
- 证据名称：如果证据有对应物，则拥有正式名称，如《责令改正违法行为决定书》、证言证词、证物等
- 证据内容：证据材料的详细内容
- 证据类型：如“书证”“现场检查记录”“监测报告”“批复文件”“委托协议”等
- 证明目的：该证据拟证明的事实片段，如“证明违法持续存在”“证明已完成整改”
- 出具单位：制作或提供该证据的机构名称，如“海南省环境监测中心站”
- 出具日期：证据形成或发布的日期
- 是否被采纳：法院是否认可其合法性、真实性、关联性并作为定案依据
- 采信理由摘要：法院采纳或不采纳的理由简述，如“来源合法、内容真实”“与待证事实无关”

## 具体行政行为
### 介绍
诉讼中涉及的具体执法行为或行政行为（如处罚、许可、强制）
### 属性
- 行为文号：如“文环保罚字〔2019〕51号”，为行政机关出具文书的唯一编号
- 行为类型：如“执法处罚”“责令改正”“行政强制”“行政许可”等，反映该行为的法律性质
- 行为事由：实施该行为的原因，如“未经验收擅自运营”“超标排放”等
- 处理内容：具体决定内容，如“罚款100万元”“责令30日内完成验收”等
- 执行情况：该行政的具体执行情况，如是否已执行，是否被撤销
- 作出日期：行政机关正式作出该行为的日期

## 法规条款依据
### 介绍
指在行政判决书中被法院实际引用、作为裁判支持的法律、法规或司法解释中的具体条、款、项等，代表最小单位的法律适用依据。
### 属性
- 法规名称：法规的正式名称,如《中华人民共和国专利法》，不包含具体的条款
- 条款编号：法律规章的具体条款编号，如第十条，第十二条第八款
- 法规条款内容：法律规章的具体条款内容
- 法规条款摘要：法规条款的核心内容
- 适用目的：该依据在本案中所起的作用，如“用于认定程序违法”“作为撤销处罚的理由”
- 法规层级：法律效力层级，如法律、行政法规、司法解释
- 法规方向：法规调整的法律关系方向，如刑事责任、行政处罚
- 适用行业：法规主要适用的行业或领域
- 发布单位：发布该法规的行政机关或立法机关,如“全国人大常委会”
- 公布年份：法规公布的年月日
- 实施年份：法规开始生效执行的年月日
- 时效性：法规当前状态，如“现行有效”“已废止”“已修订”

## 裁判结果
### 介绍
表示案件最终的法律决定或裁决内容。
### 属性
- 裁判类型：行政判决、行政裁定、决定书
- 裁判内容：如“驳回上诉，维持原判”
- 裁判理由摘要：法院或行政机关的裁判理由简述
- 裁决机关：作出裁决的法院或监管机关
- 是否生效：是/否
"""

edges = """
## 参与
### 介绍
诉讼参与者参与诉讼案件，每个诉讼参与者必定存在该关系
### 关系三元组
- 诉讼参与者-参与-诉讼

## 基于
### 介绍
表示行政判决书中的诉讼围绕诉讼事由进行诉讼裁决
### 关系三元组
- 诉讼-基于-诉讼事由

## 围绕
### 介绍
表示诉讼围绕某些事实事件进行诉讼裁决，即一场诉讼案件可能涉及多个事实事件
### 关系三元组
- 诉讼-围绕-事实事件

## 引发
### 介绍
一般用于二审、再审，表示诉讼者不满一审判决的具体行政行为提出诉讼，即具体行政行为引发诉讼事由
### 关系三元组
- 具体行政行为-引发-诉讼事由

## 包含
### 介绍
1. 诉讼事由中会包含争议的或待裁决的事实事件
2. 诉讼的判决结果中可包含对案件当事人的具体行政行为（如处罚）
### 关系三元组
- 诉讼事由-包含-事实事件
- 裁判结果-包含-具体行政行为

## 涉及
### 介绍
1. 诉讼事由里的案例涉及到的主体
2. 表示诉讼中的某一事实事件涉及到案件主体
### 关系三元组
- 事实事件-涉及-案例主体
- 诉讼事由-涉及-案例主体

## 属于
### 介绍
表示某诉讼参与者也是诉讼案例中的案例主体
### 关系三元组
- 诉讼参与者-属于-案例主体

## 提交
### 介绍
诉讼参与者在诉讼中可提交证据支持议点
### 关系三元组
- 诉讼参与者-提交-证据

## 陈述
### 介绍
诉讼参与者在诉讼中可陈述某一事实事件作为诉讼内容
### 关系三元组
- 诉讼参与者-陈述-事实事件

## 反驳
### 介绍
表示诉讼中某一证据反驳某事实事件
### 关系三元组
- 证据-反驳-事实事件

## 支持
### 介绍
表示诉讼中某证据能够支持某事实事件
### 关系三元组
- 证据-支持-事实事件

## 处理
### 介绍
表示裁判结果解决的事实事件中的某争议焦点
### 关系三元组
- 裁判结果-解决-事实事件

## 作出
### 介绍
1. 诉讼对诉讼案由作出裁判结果
2. 表示法院或执法机关作出了某一裁判结果
### 关系三元组
- 诉讼-作出-裁判结果
- 国家机构-作出-裁判结果

## 依据
### 介绍
1. 表示在诉讼中依据某一法规条文对诉讼事由或争议焦点做出裁判结果
2. 表示具体行政行为依据某法规条令而执行
### 关系三元组
- 裁判结果-依据-法规条款依据
- 具体行政行为-依据-法规条款依据

## 遭受
### 介绍
诉讼案件中的某一主体被裁决承担某一裁决结果
### 关系三元组
- 案例主体-遭受-裁判结果

## 执行
### 介绍
国家机构依法执行具体行政行为
### 关系三元组
- 国家机构-执行-具体行政行为

## 作用于
### 介绍
执法行为或行政行为作用于案例主体
### 关系三元组
- 具体行政行为-作用于-案例主体
"""

prompt = """
# 角色
您是一个法律规章案例文本分析专家，能够从判决文本书、案例分析记录等文本中准确提取实体、属性和关系信息，用于合规案例知识图谱。
# 任务说明
1. 请从给定的判决文本书、案例分析记录等文本中提取知识图谱所需的节点和关系，构建合规案例知识图谱。请严格按照下面的节点类型、属性和关系类型进行识别和提取， 并以JSON格式输出。
2. ⚠️ 注意: 一份完整的判决书必定包含以下实体：[诉讼、诉讼参与者、诉讼事由、事实事件、案例主体、法规条款依据、裁判结果]
3. ⚠️ 注意：必须完整提取所有诉讼参与者，包括但不限于法院工作人员！且必须建立起诉讼参与者和诉讼之间的关系，即“诉讼参与者-参与-诉讼”关系。
4. ⚠️ 注意：每个事实事件都必须建立起与已有诉讼事由实体或已有诉讼实体之间的关联关系
"""
schema = {
    "nodes": nodes,
    "edges": edges
}
examples = [
    {
        "text": "广东某某科技有限公司、广州某某科技有限公司、广东某某化妆品有限公司因与被申请人上海某某联合股份有限公司侵害外观设计专利权纠纷一案，不服广东省高级人民法院民事判决，向最高人民法院申请再审，最高人民法院依法组成合议庭进行了审查，驳回了再审申请。",
        "nodes": [
            {
                "name": "广东某某科技有限公司等与上海某某联合股份有限公司侵害外观设计专利权纠纷再审案",
                "type": "诉讼",
                "attributes": {
                    "诉讼名称": "广东某某科技有限公司等与上海某某联合股份有限公司侵害外观设计专利权纠纷再审案",
                    "案件类型": "民事",
                    "审级": "再审",
                    "审理法院": "中华人民共和国最高人民法院"
                }
            },
            {
                "name": "广东某某科技有限公司",
                "type": "案例主体",
                "attributes": {
                    "主体名称": "广东某某科技有限公司",
                    "主体类型": "公司",
                }
            },
            {
                "name": "侵害外观设计专利权纠纷",
                "type": "诉讼事由",
                "attributes": {
                    "事由摘要": "因侵害外观设计专利权引起的纠纷",
                    "事由类型": "知识产权纠纷",
                    "核心行为": "侵害外观设计专利权"
                }
            }
        ],
        "edges": [
            {
                "name": "",
                "type": "关系",
                "attributes": {
                    "主体": "侵害外观设计专利权纠纷",
                    "谓词": "涉及",
                    "客体": "广东某某科技有限公司"
                }
            },
            {
                "name": "",
                "type": "关系",
                "attributes": {
                    "主体": "广东某某科技有限公司等与上海某某联合股份有限公司侵害外观设计专利权纠纷再审案",
                    "谓词": "基于",
                    "客体": "侵害外观设计专利权纠纷"
                }
            }
        ]
    }
]
