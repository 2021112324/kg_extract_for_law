
nodes = """
# 实体类型
## 条款
### 介绍
规章中的"第X条"，是唯一法律锚点。一切权利、义务、许可、处罚都必须挂在条款下。
### 属性
- 条款编号：条款在规章中的编号
- 条款全文：条款的完整文本内容
- 条款层级：条 / 款 / 项
- 条款功能类型：定义 / 授权 / 义务 / 禁止 / 程序 / 处罚
- 规范事项摘要：条款所规范事项的摘要

## 主体
### 介绍
被条款赋权、约束、处罚、管理的任何单位或个人。
### 属性
- 主体名称：主体的具体名称
- 主体类型：行政机关 / 单位 / 企业 / 个人 / 组织
- 是否行政主体：该主体是否为行政主体

## 行为
### 介绍
条款中规定"应当 / 可以 / 不得"实施的动作。
### 属性
- 行为名称：具体行为的名称
- 行为类型：申请 / 审批 / 检查 / 经营 / 处罚 / 履行 / 报告等
- 是否行政行为：该行为是否属于行政行为

## 对象
### 介绍
被行为作用、被许可、被监管或被处罚的事物或事项。
### 属性
- 对象名称：被调整对象的名称
- 对象类型：产品 / 活动 / 设施 / 行为 / 权利 / 事项 / 项目

## 条件
### 介绍
某项权利、义务、行为成立或生效的前提。
### 属性
- 条件内容：条件的具体内容
- 条件类型：资格 / 技术 / 程序 / 时间 / 安全
- 是否强制：该条件是否为强制性条件

## 权利或资格
### 介绍
条款授予、确认或取消的资格、许可、权利、证书。
### 属性
- 名称：权利或资格的名称
- 类型：许可 / 资格 / 证书 / 权利
- 是否可撤销：该权利或资格是否可被撤销

## 法律后果
### 介绍
条款规定的结果：可以是奖励、批准、撤销、限制、无效等。
### 属性
- 名称：法律后果的名称
- 类型：取得 / 丧失 / 中止 / 变更 / 否决

## 处罚或责任
### 介绍
违反条款时产生的不利法律后果。
### 属性
- 名称：处罚或责任的名称
- 类型：罚款 / 吊销 / 责令改正 / 禁止 / 追责
- 是否影响主体资格：该处罚是否影响主体资格

## 程序
### 介绍
条款规定必须遵循的法定流程。
### 属性
- 名称：程序的名称
- 类型：审批 / 处罚 / 听证 / 复核 / 公示
"""
edges = """
# 关系类型
## 适用于
### 介绍
条款适用的主体或对象
### 关系三元组
- 条款-适用于-主体
- 条款-适用于-对象

## 规定行为
### 介绍
条款规定某种行为
### 关系三元组
- 条款-规定行为-行为

## 实施
### 介绍
主体实施某种行为
### 关系三元组
- 主体-实施-行为
- 主体-实施-程序

## 作用于
### 介绍
行为针对的对象
### 关系三元组
- 行为-作用于-对象

## 设定条件
### 介绍
条款或行为的前提
### 关系三元组
- 条款-设定条件-条件

## 需满足
### 介绍
行为需要满足的条件
### 关系三元组
- 行为-需满足-条件

## 授予
### 介绍
条款对资格或权利的处理
### 关系三元组
- 条款-授予-权利或资格

## 限制
### 介绍
条款对资格或权利的限制
### 关系三元组
- 条款-限制-权利或资格

## 享有
### 介绍
主体享有的权利或资格
### 关系三元组
- 主体-享有-权利或资格

## 导致
### 介绍
行为导致的制度结果
### 关系三元组
- 行为-导致-法律后果

## 规定
### 介绍
违法或不合规时的后果
### 关系三元组
- 条款-规定-处罚或责任
- 条款-规定-程序

## 承担
### 介绍
主体承担的处罚或责任
### 关系三元组
- 主体-承担-处罚或责任

## 前置于
### 介绍
形成法定逻辑链
### 关系三元组
- 条款-前置于-条款

## 后续于
### 介绍
形成法定逻辑链
### 关系三元组
- 条款-后续于-条款
"""


prompt = """
# 角色
您是一个规章文本分析专家，能够从规章制度文本(如...方法、规定、规章、办法等)中准确提取实体、属性和关系信息，用于构建合规法务条令知识图谱。
# 任务说明
请从给定的规章制度文本中提取知识图谱所需的节点和关系，构建企合规法务规章知识图谱。请严格按照下面的节点类型、属性和关系类型进行识别和提取， 并以JSON格式输出。
"""
schema = {
    "nodes": nodes,
    "edges": edges
}
examples = [
    {
        "text": "第五条 食品生产企业应当严格遵守有关安全生产法律、行政法规和国家标准、行业标准的规定，建立健全安全生产责任制、安全生产规章制度和安全操作规程。",
        "nodes": [
            {
                "name": "第五条",
                "type": "条款",
                "attributes": {
                    "条款编号": "第五条",
                    "条款全文": "食品生产企业应当严格遵守有关安全生产法律、行政法规和国家标准、行业标准的规定，建立健全安全生产责任制、安全生产规章制度和安全操作规程。",
                    "条款层级": "条",
                    "条款功能类型": "义务",
                    "规范事项摘要": "安全生产基本要求"
                }
            },
            {
                "name": "食品生产企业",
                "type": "主体",
                "attributes": {
                    "主体名称": "食品生产企业",
                    "主体类型": "企业",
                    "是否行政主体": "否"
                }
            },
            {
                "name": "建立健全安全生产责任制",
                "type": "行为",
                "attributes": {
                    "行为名称": "建立健全安全生产责任制",
                    "行为类型": "履行",
                    "是否行政行为": "否"
                }
            }
        ],
        "edges": [
            {
                "name": "",
                "type": "关系",
                "attributes": {
                    "主体": "第五条",
                    "谓词": "适用于",
                    "客体": "食品生产企业"
                }
            },
            {
                "name": "",
                "type": "关系",
                "attributes": {
                    "主体": "第五条",
                    "谓词": "规定行为",
                    "客体": "建立健全安全生产责任制"
                }
            }
        ]
    }
]
